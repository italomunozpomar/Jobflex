{% extends 'base.html' %}

{% block title %}Confirmar Cambio de Seguridad{% endblock %}

{% block content %}
<main class="container mx-auto px-4 md:px-6 py-12">
    <div class="max-w-md mx-auto bg-white p-8 rounded-xl shadow-lg">
        <h1 class="text-3xl font-bold text-dark text-center">Confirmar Cambio de Seguridad</h1>
        <p class="text-secondary mt-2 text-center">Hemos enviado un código de 6 dígitos a tu correo electrónico. Ingrésalo para confirmar los cambios en tu configuración de seguridad.</p>

        <form method="post" action="{% url 'verify_2fa_change' %}" class="space-y-6 mt-8">
            {% csrf_token %}
            <div>
                <label for="id_code" class="block text-sm font-medium text-dark">Código de Verificación</label>
                <input type="text" name="code" id="id_code" maxlength="6" class="mt-1 block w-full p-4 border border-light-gray rounded-lg text-center text-2xl tracking-[.5em]" required autofocus>
                {% if form.code.errors %}
                    {% for error in form.code.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                    {% endfor %}
                {% endif %}
                {% if form.non_field_errors %}
                    {% for error in form.non_field_errors %}
                         <p class="mt-2 text-sm text-red-600">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>
            <button type="submit" class="w-full bg-primary text-white font-bold py-3 px-6 rounded-lg hover:bg-opacity-90 transition-all">Confirmar Cambio</button>
        </form>
        <div class="text-center mt-4">
            <a href="{% url 'settings' %}" class="text-sm text-secondary hover:underline">Volver a Configuración</a>
        </div>
    </div>
</main>
{% endblock %}